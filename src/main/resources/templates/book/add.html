<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>本を追加する | 読書記録管理システム</title>
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{/css/style.css}" rel="stylesheet">
</head>

<body>

	<!-- ▼ Header（タイトル中央, ログアウト右端, 下段メニュー） ▼ -->
	<header class="bg-dark text-white py-3 mb-4">
		<div class="container">
			<div class="d-flex align-items-center position-relative">
				<h1 class="text-center flex-grow-1 m-0 fs-3">読書記録管理システム</h1>
				<div class="d-none d-md-block">
					<span th:text="${username}">アカウント名</span>さん、ようこそ
					<a th:href="@{/logout}" class="btn btn-outline-light btn-sm">ログアウト</a>
				</div>
			</div>

			<nav class="mt-3">
				<ul class="nav justify-content-center">
					<li class="nav-item"><a th:href="@{/home}" class="nav-link px-3 text-white">トップ</a></li>
					<li class="nav-item"><a th:href="@{/book/search}" class="nav-link px-3 text-white">本を探す</a></li>
					<li class="nav-item"><a th:href="@{/book/list}" class="nav-link px-3 text-white">マイ本棚</a></li>
					<li class="nav-item"><a href="/book/recommend" class="nav-link px-3 text-white">あなたへのおすすめ</a></li>
					<li class="nav-item"><a href="/book/review/list" class="nav-link px-3 text-white">新着レビュー</a></li>
					<li class="nav-item"><a href="/book/ranking" class="nav-link px-3 text-white">ランキング</a></li>
				</ul>
			</nav>
		</div>
	</header>

	<!-- ▼ Main content ▼ -->
	<div class="container">

		<h2 class="mb-4">自分で本を登録する</h2>

		<!-- エラーメッセージ欄 -->
		<!--<div th:if="${errorMessage}" class="alert alert-danger mt-3"-->
		<!-- th:text="${errorMessage}">-->
		<!--</div>-->

		<form th:action="@{/book/add}" method="post" th:object="${bookForm}" novalidate
			class="p-4 border rounded shadow-sm bg-light">

			<!-- エラーメッセージ欄 -->
			<div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
				<ul class="mb-0">
					<li th:each="e : ${#fields.errors('*')}" th:text="${e}"></li>
				</ul>
			</div>


			<!-- 書籍名 -->
			<div class="mb-3">
				<label class="form-label">
					書籍名 <span class="text-danger">*</span>
				</label>
				<input type="text" th:field="*{title}" class="form-control">
			</div>

			<!-- 著者 -->
			<div class="mb-3">
				<label class="form-label">
					著者 <span class="text-danger">*</span>
				</label>
				<input type="text" th:field="*{author}" class="form-control">
			</div>

			<!-- 出版社 -->
			<div class="mb-3">
				<label class="form-label">出版社</label>
				<input type="text" th:field="*{publisher}" class="form-control">
			</div>

			<!-- 発行日 -->
			<div class="mb-3">
				<label class="form-label">発行日</label>
				<input type="date" th:field="*{publishedAt}" class="form-control">
			</div>

			<!-- ジャンル -->
			<div class="mb-4">
				<label class="form-label">
					ジャンル <span class="text-danger">*</span>
				</label>
				<select th:field="*{genreId}" class="form-select">
					<option value="">選択してください</option>
					<option th:each="g : ${genres}" th:value="${g.id}" th:text="${g.name}">
					</option>
				</select>
			</div>

			<!-- ボタン -->
			<div class="d-flex justify-content-between">
				<a th:href="@{/book/search}" class="btn btn-secondary">キャンセル</a>
				<button type="submit" class="btn btn-primary px-4" formnovalidate>本棚へ追加する</button>
			</div>
		</form>
	</div>

	<!-- ▼ Footer ▼ -->
	<footer class="mt-5 py-3 bg-dark text-center text-white">
		© 読書記録管理システム
	</footer>

</body>

</html>